# Streamlit MBTI â†’ Career Recommender (K-12 Career Education)
# ----------------------------------------------------------
# How to run locally:
#   1) pip install streamlit
#   2) streamlit run streamlit_mbti_career_app.py
#
# This app is designed for school career education. It uses colorful UI, emoji-rich visuals, 
# practical study tips, and downloadable results for students.

import streamlit as st
from datetime import datetime
import textwrap

st.set_page_config(
    page_title="MBTI ì§„ë¡œ ì¶”ì²œ â€¢ Spark!",
    page_icon="ğŸ¯",
    layout="wide",
    initial_sidebar_state="expanded",
)

# ------------------------------
# Custom CSS for a vibrant look
# ------------------------------
ACCENT_GRADIENT = "linear-gradient(135deg, #7C3AED 0%, #22D3EE 50%, #F472B6 100%)"
CARD_BG = "rgba(255, 255, 255, 0.75)"
DARK_CARD_BG = "rgba(20, 20, 20, 0.55)"
BORDER = "rgba(255,255,255,0.5)"

st.markdown(
    f"""
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;800&family=Nunito:wght@600;800&display=swap');
      html, body, [class*="css"]  {{
        font-family: 'Pretendard', 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
      }}
      .hero {{
        padding: 24px 28px; border-radius: 22px; color: #111;
        background: {ACCENT_GRADIENT};
        box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      }}
      .subtitle {{ opacity: 0.9; font-weight: 600; }}
      .card {{
        background: {CARD_BG};
        border: 1px solid {BORDER};
        border-radius: 18px;
        padding: 18px 18px 16px 18px;
        box-shadow: 0 12px 30px rgba(0,0,0,0.06);
        backdrop-filter: blur(6px);
      }}
      .dark .card {{ background: {DARK_CARD_BG}; border-color: rgba(255,255,255,0.15); }}
      .tag {{
        display:inline-block; padding:6px 10px; margin: 2px 6px 4px 0; border-radius: 999px;
        background: rgba(124, 58, 237, 0.14); border:1px solid rgba(124,58,237,0.25);
        font-weight: 700; font-size: 0.88rem;
      }}
      .chip {{
        display:inline-flex; align-items:center; gap:6px; padding:8px 12px; border-radius:14px;
        border:1px dashed rgba(0,0,0,0.1); margin: 4px 8px 0 0; background: rgba(255,255,255,0.6);
      }}
      .muted {{ opacity: 0.7; }}
      .emoji-title {{ font-size: 1.1rem; font-weight: 800; }}
      .footer-note {{ font-size: 0.9rem; opacity: 0.75; }}
    </style>
    """,
    unsafe_allow_html=True,
)

# ------------------------------
# Data
# ------------------------------
MBTI_INFO = {
    "INTJ": {
        "title": "INTJ â€“ ì „ëµê°€ ğŸ§ ğŸ—ºï¸",
        "traits": ["ë¶„ì„ì ", "ë…ë¦½ì ", "ì¥ê¸°ê³„íš", "í˜ì‹  ì¶”êµ¬"],
        "careers": [
            ("ë°ì´í„° ê³¼í•™ì", "ğŸ“Š"),
            ("AI ì—°êµ¬ì›", "ğŸ¤–"),
            ("ì „ëµ ì»¨ì„¤í„´íŠ¸", "ğŸ§­"),
            ("ì œí’ˆ ë§¤ë‹ˆì €(PM)", "ğŸ“Œ"),
            ("ë„ì‹œ/êµí†µ ê³„íšê°€", "ğŸ™ï¸"),
        ],
        "study": ["ìˆ˜í•™Â·í†µê³„", "ì»´í“¨í„° ê³¼í•™", "ê²½ì œ/ê²½ì˜", "ì‹œìŠ¤í…œ ì‚¬ê³ "],
        "activities": ["ë°ì´í„° ë¶„ì„ í”„ë¡œì íŠ¸", "ë¬¸ì œ í•´ê²° ì±Œë¦°ì§€", "ì¥ê¸° ë¡œë“œë§µ ì„¤ê³„"]
    },
    "INTP": {
        "title": "INTP â€“ ì•„ì´ë””ì–´ ë©”ì´ì»¤ ğŸ§ªğŸ’¡",
        "traits": ["ë…¼ë¦¬ì ", "íƒêµ¬ì ", "í˜¸ê¸°ì‹¬", "ì´ë¡ í™”"],
        "careers": [
            ("ì—°êµ¬ê°œë°œ(R&D)", "ğŸ”¬"),
            ("ë°±ì—”ë“œ ê°œë°œì", "ğŸ§©"),
            ("ì•Œê³ ë¦¬ì¦˜ ì—”ì§€ë‹ˆì–´", "ğŸ“"),
            ("ê¸°ìˆ  ë¶„ì„ê°€", "ğŸ› ï¸"),
            ("ê²Œì„ ì—”ì§„ ê°œë°œì", "ğŸ®"),
        ],
        "study": ["ìˆ˜í•™Â·ë¬¼ë¦¬", "ì»´í“¨í„° ê³¼í•™", "ë…¼ë¦¬í•™", "ì² í•™"],
        "activities": ["ê³¼í•™ íƒêµ¬ ëŒ€íšŒ", "ì˜¤í”ˆì†ŒìŠ¤ ê¸°ì—¬", "ë¬¸ì œí•´ê²° í”¼ë“œ"]
    },
    "ENTJ": {
        "title": "ENTJ â€“ ì§€íœ˜ê´€ ğŸ§­ğŸ‘©â€âœˆï¸",
        "traits": ["ë¦¬ë”ì‹­", "ëª©í‘œ ì§€í–¥", "ì˜ì‚¬ê²°ì •", "ì „ëµì "],
        "careers": [
            ("ê¸°ì—…ê°€/ìŠ¤íƒ€íŠ¸ì—… ë¦¬ë”", "ğŸš€"),
            ("í”„ë¡œë•íŠ¸ ë§¤ë‹ˆì €", "ğŸ“Œ"),
            ("ê²½ì˜ ì»¨ì„¤í„´íŠ¸", "ğŸ“ˆ"),
            ("í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €", "ğŸ“…"),
            ("ì„¸ì¼ì¦ˆ ë””ë ‰í„°", "ğŸ¤"),
        ],
        "study": ["ê²½ì˜/ê²½ì œ", "ë¦¬ë”ì‹­", "ë°ì´í„° ë¦¬í„°ëŸ¬ì‹œ", "í”„ë ˆì  í…Œì´ì…˜"],
        "activities": ["ëª¨ì˜ì°½ì—…", "ìº¡ìŠ¤í†¤ í”„ë¡œì íŠ¸ ë¦¬ë”©", "ë””ë² ì´íŠ¸"]
    },
    "ENTP": {
        "title": "ENTP â€“ ë°œëª…ê°€ âš™ï¸âœ¨",
        "traits": ["ì°½ì˜", "ì¦‰í¥", "ë„ì „", "í† ë¡ "],
        "careers": [
            ("í”„ë¡œë•íŠ¸ ë””ìì´ë„ˆ", "ğŸ¨"),
            ("UX ì „ëµê°€", "ğŸ§­"),
            ("í˜ì‹  ì»¨ì„¤í„´íŠ¸", "ğŸ§ª"),
            ("VC/ìŠ¤íƒ€íŠ¸ì—… ìŠ¤ì¹´ìš°íŠ¸", "ğŸ’¼"),
            ("í¬ë¦¬ì—ì´í„°/ì½˜í…ì¸  ê¸°íš", "ğŸ¥"),
        ],
        "study": ["ë””ìì¸ ì”½í‚¹", "ë§ˆì¼€íŒ…", "í”„ë¡œí† íƒ€ì´í•‘", "ìŠ¤í† ë¦¬í…”ë§"],
        "activities": ["í•´ì»¤í†¤", "í”¼ì¹˜ ë°í¬ ê²½ì§„ëŒ€íšŒ", "ë””ìì¸ ì±Œë¦°ì§€"]
    },
    "INFJ": {
        "title": "INFJ â€“ ì˜¹í˜¸ì ğŸŒ¿ğŸ”®",
        "traits": ["í†µì°°", "ê°€ì¹˜ì§€í–¥", "ê³µê°", "ë¯¸ë˜ì§€í–¥"],
        "careers": [
            ("ìƒë‹´/ì‹¬ë¦¬", "ğŸ—£ï¸"),
            ("êµìœ¡/êµì‚¬", "ğŸ«"),
            ("ì‚¬íšŒì •ì±… ê¸°íš", "ğŸ›ï¸"),
            ("ì½˜í…ì¸  ì‘ê°€", "âœï¸"),
            ("ë¸Œëœë“œ ìŠ¤í† ë¦¬ ì „ëµê°€", "ğŸ“–"),
        ],
        "study": ["ì‹¬ë¦¬í•™", "êµìœ¡í•™", "ë¬¸í•™/ì² í•™", "ì‚¬íšŒí•™"],
        "activities": ["ë´‰ì‚¬ í”„ë¡œì íŠ¸", "ë‹¤í í•´ì„ í† ë¡ ", "ë©˜í† ë§"]
    },
    "INFP": {
        "title": "INFP â€“ ì´ìƒê°€ ğŸŒˆğŸ•Šï¸",
        "traits": ["ì°½ì˜", "ê°€ì¹˜", "ììœ¨", "í‘œí˜„"],
        "careers": [
            ("ì‘ê°€/ì‹œë‚˜ë¦¬ì˜¤", "ğŸ“š"),
            ("ì¼ëŸ¬ìŠ¤íŠ¸ë ˆì´í„°", "ğŸ–Œï¸"),
            ("ì‚¬íšŒì ê¸°ì—… ê¸°íš", "ğŸ¤"),
            ("ì½˜í…ì¸  ë§ˆì¼€í„°", "ğŸ“£"),
            ("ê²Œì„ ìŠ¤í† ë¦¬ ë””ìì´ë„ˆ", "ğŸ§™â€â™‚ï¸"),
        ],
        "study": ["ë¬¸í•™", "ì–¸ì–´", "ë¯¸í•™", "ë¯¸ë””ì–´"],
        "activities": ["ì°½ì‘ ì›Œí¬ìˆ", "ë…ì„œ í† ë¡ ", "ì¸ë”” í”„ë¡œì íŠ¸"]
    },
    "ENFJ": {
        "title": "ENFJ â€“ êµì‚¬í˜• ğŸŒŸğŸ¤—",
        "traits": ["ì¡°ì§", "ê²©ë ¤", "ì»¤ë®¤ë‹ˆì¼€ì´ì…˜", "ë¹„ì „"],
        "careers": [
            ("êµì‚¬/êµìœ¡ê¸°íš", "ğŸ«"),
            ("HRD/ëŸ¬ë‹ ë””ìì´ë„ˆ", "ğŸ§©"),
            ("ì»¤ë®¤ë‹ˆí‹° ë§¤ë‹ˆì €", "ğŸ«¶"),
            ("PR/ë¸Œëœë“œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜", "ğŸ“¢"),
            ("ë¹„ì˜ë¦¬ í”„ë¡œì íŠ¸ ë¦¬ë”", "ğŸ•Šï¸"),
        ],
        "study": ["êµìœ¡í•™", "ì»¤ë®¤ë‹ˆì¼€ì´ì…˜", "ì¡°ì§ì‹¬ë¦¬", "í–‰ì •"],
        "activities": ["ìº í˜ì¸ ê¸°íš", "ë©˜í† ë§", "ëŒ€ì™¸í™œë™ ë¦¬ë“œ"]
    },
    "ENFP": {
        "title": "ENFP â€“ ìº í˜ì´ë„ˆ ğŸ‰ğŸš€",
        "traits": ["ì—´ì •", "ì•„ì´ë””ì–´", "ê´€ê³„", "ë„ì „"],
        "careers": [
            ("í¬ë¦¬ì—ì´í‹°ë¸Œ ë””ë ‰í„°", "ğŸ¬"),
            ("ë¸Œëœë“œ ë§ˆì¼€í„°", "ğŸ“£"),
            ("í”„ë¡œë•íŠ¸ ì—ë°˜ì ¤ë¦¬ìŠ¤íŠ¸", "ğŸ—¯ï¸"),
            ("í–‰ì‚¬/ì´ë²¤íŠ¸ ê¸°íš", "ğŸª"),
            ("ì—ë“€í…Œí¬ PM", "ğŸ’¡"),
        ],
        "study": ["ë§ˆì¼€íŒ…", "ë¯¸ë””ì–´", "êµìœ¡ê³µí•™", "ì°½ì—…"],
        "activities": ["ì˜ìƒ/ìŒì„± ì½˜í…ì¸  ì œì‘", "í•´ì»¤í†¤", "í™ë³´ ìº í˜ì¸"]
    },
    "ISTJ": {
        "title": "ISTJ â€“ ê´€ë¦¬ì ğŸ—‚ï¸ğŸ§±",
        "traits": ["ì±…ì„ê°", "ì •í™•ì„±", "ì²´ê³„", "ì„±ì‹¤"],
        "careers": [
            ("íšŒê³„/ì¬ë¬´", "ğŸ’¼"),
            ("í’ˆì§ˆê´€ë¦¬(QA)", "ğŸ”"),
            ("ê³µê³µí–‰ì •", "ğŸ›ï¸"),
            ("ë³´ê±´/ì˜ë¬´ê¸°ë¡", "ğŸ©º"),
            ("ì¸í”„ë¼ ì—”ì§€ë‹ˆì–´", "ğŸ–§"),
        ],
        "study": ["íšŒê³„", "ë²•/í–‰ì •", "ë°ì´í„° ê´€ë¦¬", "í†µê³„"],
        "activities": ["ë¬¸ì„œ ìë™í™”", "ì ˆì°¨ ê°œì„  í”„ë¡œì íŠ¸", "ê°ì‚¬ ì‹œë®¬"]
    },
    "ISFJ": {
        "title": "ISFJ â€“ ìˆ˜í˜¸ì ğŸ›¡ï¸ğŸŒ·",
        "traits": ["ë°°ë ¤", "ì±…ì„", "ì„¸ì‹¬í•¨", "í˜‘ë ¥"],
        "careers": [
            ("ê°„í˜¸/ë³´ê±´", "ğŸ©º"),
            ("êµë¬´/êµìœ¡í–‰ì •", "ğŸ“š"),
            ("ì„œë¹„ìŠ¤ ìš´ì˜", "ğŸ§¾"),
            ("ì•„ë™ë°œë‹¬/ë³µì§€", "ğŸ§¸"),
            ("ë¬¸ì„œ/ê¸°ë¡ ì•„ì¹´ì´ë¸Œ", "ğŸ“"),
        ],
        "study": ["ë³´ê±´", "êµìœ¡", "í–‰ì •", "ë¬¸ì„œê´€ë¦¬"],
        "activities": ["ëŒë´„ ë´‰ì‚¬", "í–‰ì‚¬ ìš´ì˜", "ë§¤ë‰´ì–¼ ì œì‘"]
    },
    "ESTJ": {
        "title": "ESTJ â€“ ì‹¤í–‰ê°€ ğŸ§±ğŸš¦",
        "traits": ["ì‹¤ìš©", "ì¡°ì§", "ê²°ë‹¨", "ê´€ë¦¬"],
        "careers": [
            ("í”„ë¡œë•ì…˜ ë§¤ë‹ˆì €", "ğŸ­"),
            ("ìš´ì˜ ê´€ë¦¬ì", "âš™ï¸"),
            ("ì¬ë¬´/ì˜ˆì‚° ê¸°íš", "ğŸ’¹"),
            ("ê³µê¸°ì—…/ê³µê³µê¸°ê´€", "ğŸ›ï¸"),
            ("ì„¸ì¼ì¦ˆ ë§¤ë‹ˆì €", "ğŸ§¾"),
        ],
        "study": ["ê²½ì˜", "íšŒê³„", "ì‚°ì—…ê³µí•™", "í”„ë¡œì„¸ìŠ¤"],
        "activities": ["ì›Œí¬í”Œë¡œìš° ê°œì„ ", "í”„ë¡œì íŠ¸ ì¼ì •ê´€ë¦¬", "ì›ê°€ë¶„ì„"]
    },
    "ESFJ": {
        "title": "ESFJ â€“ ì‚¬êµê°€ ğŸ€ğŸ¤",
        "traits": ["í˜‘ì—…", "ì„œë¹„ìŠ¤", "ì§ˆì„œ", "ê³µê°"],
        "careers": [
            ("HR/ì±„ìš©", "ğŸ§‘â€ğŸ¤â€ğŸ§‘"),
            ("ê³ ê°ì„±ê³µ(CSM)", "ğŸ’Ÿ"),
            ("êµìœ¡ ì½”ë””ë„¤ì´í„°", "ğŸ—“ï¸"),
            ("ì´ë²¤íŠ¸ ìš´ì˜", "ğŸ‰"),
            ("ì˜ë£Œ ì½”ë””ë„¤ì´í„°", "ğŸ¥"),
        ],
        "study": ["ì»¤ë®¤ë‹ˆì¼€ì´ì…˜", "ì¡°ì§í–‰ë™", "ì‹¬ë¦¬", "ì„œë¹„ìŠ¤ ë””ìì¸"],
        "activities": ["ë™ì•„ë¦¬/í–‰ì‚¬ ìš´ì˜", "ì„œë¹„ìŠ¤ ê°œì„  ì„¤ë¬¸", "ë©˜í† ë§"]
    },
    "ISTP": {
        "title": "ISTP â€“ ì¥ì¸ ğŸ”§ğŸ§²",
        "traits": ["ë¶„ì„", "ì†ê¸°ìˆ ", "ë¬¸ì œí•´ê²°", "ì‹¤í—˜"],
        "careers": [
            ("í•˜ë“œì›¨ì–´ ì—”ì§€ë‹ˆì–´", "ğŸ’¡"),
            ("ë³´ì•ˆ/ë¦¬ë²„ìŠ¤ ì—”ì§€", "ğŸ›¡ï¸"),
            ("ë“œë¡ /ë¡œë³´í‹±ìŠ¤", "ğŸš"),
            ("ë©”ì¹´íŠ¸ë¡œë‹‰ìŠ¤", "ğŸ¤–"),
            ("ë°ë¸Œì˜µìŠ¤/ì‚¬ì´íŠ¸ ì‹ ë¢°ì„±", "ğŸ–¥ï¸"),
        ],
        "study": ["ì „ì", "ê¸°ê³„", "ì»´í“¨í„°", "ë³´ì•ˆ"],
        "activities": ["ë©”ì´ì»¤í†¤", "ë¡œë´‡ í‚¤íŠ¸ ì œì‘", "IoT ì‹¤ìŠµ"]
    },
    "ISFP": {
        "title": "ISFP â€“
